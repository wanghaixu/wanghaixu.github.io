webpackJsonp([2,0],{0:function(e,t,o){"use strict";function u(e){return e&&e.__esModule?e:{"default":e}}var i=o(40),n=u(i),a=o(89),l=u(a),s=o(90),d=o(4),r=u(d),c=o(85),p=u(c),f=o(86),m=u(f),v=o(87),h=u(v),y=o(88),x=u(y),g=o(80);g.attach(document.body),n["default"].use(l["default"]);var M=new l["default"]({hashbang:!0,history:!1});M.map({"/index":{name:"index",component:m["default"]},"/module":{name:"module",component:h["default"]},"/play":{name:"play",component:x["default"]}}),M.redirect({"*":"/index"}),M.start(p["default"],"app"),(0,s.sync)(r["default"],M)},4:function(e,t,o){"use strict";function u(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=o(40),n=u(i),a=o(91),l=u(a);n["default"].use(l["default"]);var s={data:{videoList:[],playUrl:"",moduleInfo:{title:"页面出错，请返回上一页！",type:""},moduleMenu:[],moduleVideoList:[]},state:{ajax:{succeed:!0,error:!1}},ApiList:{}},d={setVideo:function(e,t){e.data.videoList=t},setPlayUrl:function(e,t){e.data.playUrl=t},setModuleInfo:function(e,t){e.data.moduleInfo=t},setModuleMenu:function(e,t){e.data.moduleMenu=t},moduleVideoList:function(e,t){var o=e.data.moduleVideoList.concat(t);e.data.moduleVideoList=o},setAjaxState:function(e,t){e.state.ajax=t},pullVideoList_newType:function(e,t){e.data.moduleVideoList=t}};t["default"]=new l["default"].Store({state:s,mutations:d})},15:function(e,t,o){"use strict";function u(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.pullVideoList_newType=t.pullVideoList=t.pullModuleMenu=t.setModuleInfo=t.setPlayUrl=t.jsSkipPath=t.pullVideo=void 0;var i=o(4),n=u(i),a=function(e){var t=e.url,o=e.method,u=void 0===o?"GET":o,i=e.data,n=void 0===i?"":i,a=e.dataType,l=void 0===a?"json":a,s=e.timeout,d=void 0===s?1e4:s,r=e.success,c=e.error,p=void 0===c?"":c;$.ajax({url:t,method:u,data:n,dataType:l,timeout:d,success:r,error:p})};t.pullVideo=function(e){var t=e.param,o={url:t};o.success=function(e){var t=e.result.result;n["default"].dispatch("setVideo",t)},o.error=function(e,t){alert("请求失败，请重试！")},a(o)},t.jsSkipPath=function(e){var t=e.routeName,o=e.routePath;e.params;t?n["default"].router.go({name:t}):o&&n["default"].router.go({path:o})},t.setPlayUrl=function(e){n["default"].dispatch("setPlayUrl",e)},t.setModuleInfo=function(e){n["default"].dispatch("setModuleInfo",e)},t.pullModuleMenu=function(){var e={url:"./static/store/moduleMenu.json"};e.success=function(e){var t=e;n["default"].dispatch("setModuleMenu",t)},e.error=function(e,t){console.log(t)},a(e)},t.pullVideoList=function(e){n["default"].dispatch("setAjaxState",{succeed:!1,error:!1});var t={url:"./static/store/module_"+e.module+"/type_"+e.type+"/"+e.pageNum+".txt"};t.success=function(e){var t=e.result.result;n["default"].dispatch("moduleVideoList",t),n["default"].dispatch("setAjaxState",{succeed:!0,error:!1})},t.error=function(e,t){n["default"].dispatch("setAjaxState",{succeed:!0,error:!0})},a(t)},t.pullVideoList_newType=function(e){var t={url:"./static/store/module_"+e.module+"/type_"+e.type+"/"+e.pageNum+".txt"};t.success=function(e){var t=e.result.result;n["default"].dispatch("pullVideoList_newType",t)},t.error=function(e,t){alert("请求失败，请重试！")},a(t)}},16:function(e,t,o){"use strict";function u(e){return e&&e.__esModule?e:{"default":e}}function i(){return c["default"].state.data.videoList}function n(){return c["default"].state.data.playUrl}function a(){return c["default"].state.data.moduleInfo}function l(){return c["default"].state.data.moduleMenu}function s(){return c["default"].state.data.moduleVideoList}function d(){return c["default"].state.state.ajax}Object.defineProperty(t,"__esModule",{value:!0}),t.getVideoList=i,t.getPlayUrl=n,t.getModuleInfo=a,t.getModuleMenu=l,t.getModuleVideoList=s,t.getAjaxState=d;var r=o(4),c=u(r)},42:function(e,t,o){"use strict";function u(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=o(47),n=u(i),a=o(4),l=u(a),s=o(16),d=o(15),r=o(41),c=u(r),p=o(93),f=u(p);t["default"]={data:function(){return{swiperImgList:[]}},components:{divider:c["default"],swiper:f["default"]},methods:{itemClicked:function(e){(0,d.setPlayUrl)(e.playUrl),(0,d.jsSkipPath)({routeName:"play"})},goModule:function(e){(0,d.setModuleInfo)(e),(0,d.jsSkipPath)({routeName:"module"})}},computed:{list:function(){return(0,s.getVideoList)()}},vuex:{actions:{jsSkipPath:d.jsSkipPath,pullVideo:d.pullVideo,setPlayUrl:d.setPlayUrl,setModuleInfo:d.setModuleInfo,pullModuleMenu:d.pullModuleMenu},getters:{getVideoList:s.getVideoList,getModuleMenu:s.getModuleMenu}},watch:{list:function(e,t){if("object"==("undefined"==typeof e?"undefined":(0,n["default"])(e))&&e.length>0){for(var o=[],u=0;u<e.length;u++){var i={};i.playUrl="http://www.kuaisuyy.com/play/index.php?url="+e[u].firstepisode_videourl,i.img=e[u].show_vthumburl,i.title=e[u].showname,o.push(i)}this.swiperImgList=o}}},route:{data:function(e){e.to;(0,d.pullVideo)({param:"/static/store/master_recommend/list.txt"})},deactivate:function(e){e.next()}},ready:function(){(0,d.pullModuleMenu)()},store:l["default"]}},43:function(e,t,o){"use strict";function u(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=o(4),n=u(i),a=o(16),l=o(15),s=o(94),d=u(s),r=o(92),c=u(r),p=o(41),f=u(p);t["default"]={data:function(){return{_menuPostionX:0,_type:1,_pageNum:1,moduleInfo:{title:"",type:""},menu:{current:["错误"],list:[]}}},components:{XHeader:d["default"],PopupPicker:c["default"],divider:f["default"]},methods:{menuShow:function(){var e=$("#module .menu").css("left");this._menuPostionX=e,$("#module .menu").css("left","-100px")},menuHide:function(){$("#module .menu").css("left",this._menuPostionX)},itemClicked:function(e){(0,l.setPlayUrl)("http://www.kuaisuyy.com/play/index.php?url="+e.firstepisode_videourl),(0,l.jsSkipPath)({routeName:"play"})}},computed:{},vuex:{actions:{jsSkipPath:l.jsSkipPath,pullVideoList:l.pullVideoList,setPlayUrl:l.setPlayUrl,pullVideoList_newType:l.pullVideoList_newType},getters:{getModuleInfo:a.getModuleInfo,getModuleVideoList:a.getModuleVideoList,getAjaxState:a.getAjaxState}},watch:{moduleInfo:{deep:!0,handler:function(e){""!=e.type?this.menu.list=e.subclasses:(0,l.jsSkipPath)({routeName:"index"})}},menu:{deep:!0,handler:function(e){if("错误"!=e.current){for(var t=0,o=0;o<e.list[0].length;o++)if(e.current==e.list[0][o]){t=o+1;break}this._type=t,this._pageNum=1,(0,l.pullVideoList_newType)({module:this.moduleInfo.type,type:t,pageNum:1})}}}},route:{data:function(e){e.to;this.moduleInfo=(0,a.getModuleInfo)(),""==this.moduleInfo.type&&(alert("页面出错，返回主页"),window.location.href="/")},deactivate:function(e){e.next()}},ready:function(){this.menu.current=[this.menu.list[0][0]];var e=function(){var e,t=$("body").height(),o=$("body").width(),u=60,i=!1,n=function(){clearTimeout(e),i||($(".menu label").css("opacity",1),i=!0),e=setTimeout(function(){i&&($(".menu label").css("opacity",.6),i=!1)},2e3)};window.onscroll=n,n(),$("#module .menu .weui_cell").on("touchstart",n).on("touchmove",function(e){n();var i=e.changedTouches[0].pageX-u/2,a=t-e.changedTouches[0].pageY-u/2;return a<0?a=0:a>t-u&&(a=t-u),i<0?i=0:i>o-u&&(i=o-u),$("#module .menu").css({bottom:a+"px",left:i+"px"}),e.stopPropagation(),!1})};e();var t=this;$(window).on("scroll",function(e){$("#dataList li").last().offset().top-$(window).scrollTop()-2*$("#dataList li").last().height()<500&&t.getAjaxState.succeed&&(0,l.pullVideoList)({module:t.moduleInfo.type,type:t._type,pageNum:t._pageNum++})})},store:n["default"]}},44:function(e,t,o){"use strict";function u(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=o(4),n=u(i),a=o(16);o(15),t["default"]={data:function(){return{}},components:{},methods:{},computed:{url:function(){return(0,a.getPlayUrl)()}},vuex:{actions:{},getters:{getPlayUrl:a.getPlayUrl}},watch:{},route:{data:function(e){e.to},deactivate:function(e){e.next()}},ready:function(){this.url||alert("页面出错，请重新进入！")},store:n["default"]}},77:function(e,t){},78:function(e,t){},79:function(e,t){},81:function(e,t){e.exports=" <div> <router-view class=view keep-alive transition transition-mode=out-in> </router-view> </div> "},82:function(e,t){e.exports=' <div class="ub ub-ver" id=index> <divider>站长推荐</divider> <swiper :list=swiperImgList @on-click-list-item=itemClicked auto height=300px :show-desc-mask=false dots-position=center></swiper> <divider>分类</divider> <section class=classify> <ul> <li v-for="item in getModuleMenu" @click=goModule(item)>{{item.title}}</li> </ul> </section> <divider>传送门</divider> </div> '},83:function(e,t){e.exports=' <div class=ub-ver id=module> <x-header style="background-color:rgba(49, 107, 169, 0.62)">{{moduleInfo.title}}</x-header> <div class=module-title> <divider>{{menu.current}}</divider> </div> <div class=menu> <label>菜单</label> <popup-picker :data=menu.list @on-show=menuShow @on-hide=menuHide :value.sync=menu.current></popup-picker> </div> <main> <ul id=dataList> <li v-for="item in getModuleVideoList" @click=itemClicked(item)> <img :src=item.show_vthumburl alt=""/> </li> </ul> </main> </div> '},84:function(e,t){e.exports=' <div class="ub ub-ac ub-pc" id=play> <iframe width=100% height=97.5% allowtransparency=true frameborder=0 scrolling=no :src=url></iframe> </div> '},85:function(e,t,o){var u,i,n={};i=o(81),e.exports=u||{},e.exports.__esModule&&(e.exports=e.exports["default"]);var a="function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports;i&&(a.template=i),a.computed||(a.computed={}),Object.keys(n).forEach(function(e){var t=n[e];a.computed[e]=function(){return t}})},86:function(e,t,o){var u,i,n={};o(77),u=o(42),i=o(82),e.exports=u||{},e.exports.__esModule&&(e.exports=e.exports["default"]);var a="function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports;i&&(a.template=i),a.computed||(a.computed={}),Object.keys(n).forEach(function(e){var t=n[e];a.computed[e]=function(){return t}})},87:function(e,t,o){var u,i,n={};o(78),u=o(43),i=o(83),e.exports=u||{},e.exports.__esModule&&(e.exports=e.exports["default"]);var a="function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports;i&&(a.template=i),a.computed||(a.computed={}),Object.keys(n).forEach(function(e){var t=n[e];a.computed[e]=function(){return t}})},88:function(e,t,o){var u,i,n={};o(79),u=o(44),i=o(84),e.exports=u||{},e.exports.__esModule&&(e.exports=e.exports["default"]);var a="function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports;i&&(a.template=i),a.computed||(a.computed={}),Object.keys(n).forEach(function(e){var t=n[e];a.computed[e]=function(){return t}})}});
//# sourceMappingURL=app.5e688112e1d153f3f08e.js.map