webpackJsonp([2,0],{0:function(e,t,o){"use strict";function u(e){return e&&e.__esModule?e:{"default":e}}var i=o(41),l=u(i),n=o(89),a=u(n),s=o(90),r=o(4),d=u(r),c=o(85),p=u(c),f=o(86),m=u(f),h=o(87),v=u(h),y=o(88),g=u(y),x=o(80);x.attach(document.body),l["default"].use(a["default"]);var M=new a["default"]({hashbang:!1,history:!1});M.map({"/index":{name:"index",component:m["default"]},"/module":{name:"module",component:v["default"]},"/play":{name:"play",component:g["default"]}}),M.redirect({"*":"/index"}),M.start(p["default"],"app"),(0,s.sync)(d["default"],M)},4:function(e,t,o){"use strict";function u(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=o(41),l=u(i),n=o(91),a=u(n);l["default"].use(a["default"]);var s={data:{videoList:[],playInfo:{moduleType:"",subType:"",playUrl:"",fileName:""},moduleInfo:{title:"页面出错，请返回上一页！",type:"",isSet:!1},moduleMenu:[],moduleVideoList:[],subGather:[]},state:{ajax:{succeed:!0,error:!1}},ApiList:{}},r={setVideo:function(e,t){e.data.videoList=t},setPlayUrl:function(e,t){e.data.playInfo=t},setModuleInfo:function(e,t){e.data.moduleInfo=t},setModuleMenu:function(e,t){e.data.moduleMenu=t},moduleVideoList:function(e,t){var o=e.data.moduleVideoList.concat(t);e.data.moduleVideoList=o},setAjaxState:function(e,t){e.state.ajax=t},pullVideoList_newType:function(e,t){e.data.moduleVideoList=t},setSubGather:function(e,t){e.data.subGather=t}};t["default"]=new a["default"].Store({state:s,mutations:r})},15:function(e,t,o){"use strict";function u(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.pullSubVideoList=t.pullVideoList_newType=t.pullVideoList=t.pullModuleMenu=t.setModuleInfo=t.setPlayUrl=t.jsSkipPath=t.pullVideo=void 0;var i=o(4),l=u(i),n=function(e){var t=e.url,o=e.method,u=void 0===o?"GET":o,i=e.data,l=void 0===i?"":i,n=e.dataType,a=void 0===n?"json":n,s=e.timeout,r=void 0===s?1e4:s,d=e.success,c=e.error,p=void 0===c?"":c;t+="?v=1.0.2",$.ajax({url:t,method:u,data:l,dataType:a,timeout:r,success:d,error:p})};t.pullVideo=function(e){var t=e.param,o={url:t};o.success=function(e){var t=e.result.result;l["default"].dispatch("setVideo",t)},o.error=function(e,t){alert("请求失败，请重试！")},n(o)},t.jsSkipPath=function(e){var t=e.routeName,o=e.routePath;e.params;t?l["default"].router.go({name:t}):o&&l["default"].router.go({path:o})},t.setPlayUrl=function(e){l["default"].dispatch("setPlayUrl",e)},t.setModuleInfo=function(e){l["default"].dispatch("setModuleInfo",e)},t.pullModuleMenu=function(){var e={url:"./static/store/moduleMenu.json"};e.success=function(e){var t=e;l["default"].dispatch("setModuleMenu",t)},e.error=function(e,t){},n(e)},t.pullVideoList=function(e){l["default"].dispatch("setAjaxState",{succeed:!1,error:!1});var t={url:"./static/store/module_"+e.module+"/type_"+e.type+"/"+e.pageNum+".txt"};t.success=function(e){var t=e.result.result;l["default"].dispatch("moduleVideoList",t),l["default"].dispatch("setAjaxState",{succeed:!0,error:!1})},t.error=function(e,t){l["default"].dispatch("setAjaxState",{succeed:!0,error:!0})},n(t)},t.pullVideoList_newType=function(e){var t={url:"./static/store/module_"+e.module+"/type_"+e.type+"/"+e.pageNum+".txt"};t.success=function(e){var t=[];if(e.result.result)t=e.result.result;else if(e.result){t=e.result;for(var o=0;o<t.length;o++)for(var u=o+1;u<t.length-1;u++)t[o].length!=t[u].length&&alert("数据解析错误，请联系管理员！");for(var i=t.id,n=t.title,a=t.showImgUrl,s=t.playUrl,r=i.length,d=[],c=1;c<r-1;c++){var p={id:i[c],title:n[c],show_vthumburl:a[c],firstepisode_videourl:s[c]};d.push(p)}t=d}l["default"].dispatch("pullVideoList_newType",t)},t.error=function(e,t){},n(t)},t.pullSubVideoList=function(e){var t={url:"./static/store/module_"+e.module+"/type_"+e.subType+"/subsection/"+e.fileName+".txt"};t.success=function(e){var t=e.result.title,o=e.result.toggleSet;if(t.length!=o.length)return alert("数据解析错误，请联系管理员！"),!1;for(var u=[],i=1;i<t.length-1;i++){var n={title:t[i],toggleSet:o[i]};u.push(n)}l["default"].dispatch("setSubGather",u)},t.error=function(e,t){},n(t)}},16:function(e,t,o){"use strict";function u(e){return e&&e.__esModule?e:{"default":e}}function i(){return p["default"].state.data.videoList}function l(){return p["default"].state.data.playInfo}function n(){return p["default"].state.data.moduleInfo}function a(){return p["default"].state.data.moduleMenu}function s(){return p["default"].state.data.moduleVideoList}function r(){return p["default"].state.state.ajax}function d(){return p["default"].state.data.subGather}Object.defineProperty(t,"__esModule",{value:!0}),t.getVideoList=i,t.getPlayInfo=l,t.getModuleInfo=n,t.getModuleMenu=a,t.getModuleVideoList=s,t.getAjaxState=r,t.getSubGather=d;var c=o(4),p=u(c)},42:function(e,t,o){"use strict";function u(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=o(47),l=u(i),n=o(4),a=u(n),s=o(16),r=o(15),d=o(30),c=u(d),p=o(93),f=u(p);t["default"]={data:function(){return{swiperImgList:[]}},components:{divider:c["default"],swiper:f["default"]},methods:{itemClicked:function(e){var t={moduleType:"",subType:"",playUrl:e.playUrl,fileName:""};(0,r.setPlayUrl)(t),(0,r.jsSkipPath)({routeName:"play"})},goModule:function(e){(0,r.setModuleInfo)(e),(0,r.jsSkipPath)({routeName:"module"})}},computed:{list:function(){return(0,s.getVideoList)()}},vuex:{actions:{jsSkipPath:r.jsSkipPath,pullVideo:r.pullVideo,setPlayUrl:r.setPlayUrl,setModuleInfo:r.setModuleInfo,pullModuleMenu:r.pullModuleMenu},getters:{getVideoList:s.getVideoList,getModuleMenu:s.getModuleMenu}},watch:{list:function(e,t){if("object"==("undefined"==typeof e?"undefined":(0,l["default"])(e))&&e.length>0){for(var o=[],u=0;u<e.length;u++){var i={};i.playUrl=e[u].firstepisode_videourl,i.img=e[u].show_vthumburl,i.title=e[u].showname,o.push(i)}this.swiperImgList=o}}},route:{data:function(e){e.to;(0,r.pullVideo)({param:"/static/store/master_recommend/list.txt"})},deactivate:function(e){e.next()}},ready:function(){(0,r.pullModuleMenu)()},store:a["default"]}},43:function(e,t,o){"use strict";function u(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=o(4),l=u(i),n=o(16),a=o(15),s=o(94),r=u(s),d=o(92),c=u(d),p=o(30),f=u(p);t["default"]={data:function(){return{menuPostionX:0,type:1,pageNum:1,moduleInfo:{},menu:{current:["错误"],list:[]}}},components:{XHeader:r["default"],PopupPicker:c["default"],divider:f["default"]},methods:{menuShow:function(){var e=$("#module .menu").css("left");this.menuPostionX=e,$("#module .menu").css("left","-100px")},menuHide:function(){$("#module .menu").css("left",this.menuPostionX)},itemClicked:function(e){var t=void 0;t=(0,n.getModuleInfo)().isSet?{moduleType:(0,n.getModuleInfo)().type,subType:this.type,playUrl:e.playUrl,fileName:e.id}:{moduleType:(0,n.getModuleInfo)().type,subType:this.type,playUrl:e.firstepisode_videourl,fileName:""},(0,a.setPlayUrl)(t),(0,a.jsSkipPath)({routeName:"play"})}},computed:{},vuex:{actions:{jsSkipPath:a.jsSkipPath,pullVideoList:a.pullVideoList,setPlayUrl:a.setPlayUrl,pullVideoList_newType:a.pullVideoList_newType},getters:{getModuleInfo:n.getModuleInfo,getModuleVideoList:n.getModuleVideoList,getAjaxState:n.getAjaxState}},watch:{moduleInfo:{deep:!0,handler:function(e){""!=e.type?this.menu.list=e.subclasses:(0,a.jsSkipPath)({routeName:"index"})}},menu:{deep:!0,handler:function(e){if("错误"!=e.current){for(var t=1,o=0;o<e.list[0].length;o++)if(e.current==e.list[0][o]){t=o+1;break}this.type=t,this.pageNum=1,(0,a.pullVideoList_newType)({module:this.moduleInfo.type,type:t,pageNum:1})}}}},route:{data:function(e){e.to;this.moduleInfo=(0,n.getModuleInfo)(),""==this.moduleInfo.type&&(window.location.href="/")},deactivate:function(e){e.next()}},ready:function(){this.menu.current=[this.menu.list[0][0]];var e=function(){var e,t=$("body").height(),o=$("body").width(),u=60,i=!1,l=function(){clearTimeout(e),i||($(".menu label").css("opacity",1),i=!0),e=setTimeout(function(){i&&($(".menu label").css("opacity",.6),i=!1)},2e3)};window.onscroll=l,l(),$("#module .menu .weui_cell").on("touchstart",l).on("touchmove",function(e){l();var i=e.changedTouches[0].pageX-u/2,n=t-e.changedTouches[0].pageY-u/2;return n<0?n=0:n>t-u&&(n=t-u),i<0?i=0:i>o-u&&(i=o-u),$("#module .menu").css({bottom:n+"px",left:i+"px"}),e.stopPropagation(),!1})};e();var t=this;$(window).on("scroll",function(e){$("#dataList li").length>0&&$("#dataList li").last().offset().top-$(window).scrollTop()-2*$("#dataList li").last().height()<500&&t.getAjaxState.succeed&&(0,a.pullVideoList)({module:t.moduleInfo.type,type:t.type,pageNum:t.pageNum++})})},store:l["default"]}},44:function(e,t,o){"use strict";function u(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=o(30),l=u(i),n=o(4),a=u(n),s=o(16),r=o(15);t["default"]={data:function(){return{activeItem:1,playUrlpPefix:"http://www.kuaisuyy.com/play/index.php?url=",urlTemp:""}},components:{divider:l["default"]},methods:{toggleSet:function(e){this.activeItem=e,$(window).scrollTop(0),this.urlTemp=this.playUrlpPefix+this.getSubGather[e-1].toggleSet}},computed:{url:function(){if(""!=this.urlTemp)return this.urlTemp;var e=(0,s.getPlayInfo)().playUrl,t=this.getSubGather.length>0?this.getSubGather[0].toggleSet:e;return this.playUrlpPefix+t}},vuex:{actions:{pullSubVideoList:r.pullSubVideoList},getters:{getPlayInfo:s.getPlayInfo,getModuleInfo:s.getModuleInfo,getModuleVideoList:s.getModuleVideoList,getSubGather:s.getSubGather}},watch:{},route:{data:function d(e){e.to;if(this.urlTemp="",this.activeItem=1,$(window).scrollTop(0),""==(0,s.getPlayInfo)().playUrl&&window.history.back(-1),(0,s.getModuleInfo)().isSet){var d={module:(0,s.getPlayInfo)().moduleType,subType:(0,s.getPlayInfo)().subType,fileName:(0,s.getPlayInfo)().fileName};(0,r.pullSubVideoList)(d)}},deactivate:function(e){console.log(this),e.next()}},ready:function(){},destroyed:function(){alert("已销毁")},store:a["default"]}},77:function(e,t){},78:function(e,t){},79:function(e,t){},81:function(e,t){e.exports=" <div> <router-view class=view keep-alive transition transition-mode=out-in> </router-view> </div> "},82:function(e,t){e.exports=' <div class="ub ub-ver" id=index> <divider>站长推荐</divider> <swiper :list=swiperImgList @on-click-list-item=itemClicked auto height=300px :show-desc-mask=false dots-position=center></swiper> <divider>分类</divider> <section class=classify> <ul> <li v-for="item in getModuleMenu" @click=goModule(item)>{{item.title}}</li> </ul> </section> <divider>传送门</divider> </div> '},83:function(e,t){e.exports=' <div class=ub-ver id=module> <x-header style="background-color:rgba(49, 107, 169, 0.62)">{{moduleInfo.title}}</x-header> <div class=module-title> <divider>{{menu.current}}</divider> </div> <div class=menu> <label>菜单</label> <popup-picker :data=menu.list @on-show=menuShow @on-hide=menuHide :value.sync=menu.current></popup-picker> </div> <main> <ul id=dataList> <li v-for="item in getModuleVideoList" @click=itemClicked(item)> <img :src=item.show_vthumburl alt=""/> </li> </ul> </main> </div> '},84:function(e,t){e.exports=' <div class="ub ub-ver" id=play> <div class=show-state>加载中...</div> <iframe width=100% height=250px allowtransparency=true frameborder=0 scrolling=no :src=url></iframe> <ul class="ub-f1 toggle-set" v-if="getSubGather.length>0"> <divider style="margin-top:10px; background-color:#fff">选集-[{{activeItem}}/{{getSubGather.length}}]</divider> <li :class="{ \'active\': ($index+1)==activeItem}" v-for="i in getSubGather" @click=toggleSet($index+1)>{{$index+1}}</li> </ul> </div> '},85:function(e,t,o){var u,i,l={};i=o(81),e.exports=u||{},e.exports.__esModule&&(e.exports=e.exports["default"]);var n="function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports;i&&(n.template=i),n.computed||(n.computed={}),Object.keys(l).forEach(function(e){var t=l[e];n.computed[e]=function(){return t}})},86:function(e,t,o){var u,i,l={};o(77),u=o(42),i=o(82),e.exports=u||{},e.exports.__esModule&&(e.exports=e.exports["default"]);var n="function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports;i&&(n.template=i),n.computed||(n.computed={}),Object.keys(l).forEach(function(e){var t=l[e];n.computed[e]=function(){return t}})},87:function(e,t,o){var u,i,l={};o(78),u=o(43),i=o(83),e.exports=u||{},e.exports.__esModule&&(e.exports=e.exports["default"]);var n="function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports;i&&(n.template=i),n.computed||(n.computed={}),Object.keys(l).forEach(function(e){var t=l[e];n.computed[e]=function(){return t}})},88:function(e,t,o){var u,i,l={};o(79),u=o(44),i=o(84),e.exports=u||{},e.exports.__esModule&&(e.exports=e.exports["default"]);var n="function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports;i&&(n.template=i),n.computed||(n.computed={}),Object.keys(l).forEach(function(e){var t=l[e];n.computed[e]=function(){return t}})}});
//# sourceMappingURL=app.96dec6bf9a0ea038b978.js.map